unbind %

# Set prefix key
unbind C-b              # Unbind the default prefix key
set -g prefix C-a   # Set new prefix key to Ctrl+Space

# Make tmux-sensible's C-p/C-n bindings repeatable for faster window switching
bind -r C-p previous-window
bind -r C-n next-window

# Shift+Enter sends CSI u sequence for newline in applications
bind -n S-Enter send-keys Escape "[13;2u"

set-option -g status-position top

# Options to make tmux more pleasant
set -g mouse on

# Enable vi mode
setw -g mode-keys vi

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-pain-control'
set -g @plugin 'rickstaa/tmux-notify'
set -g @plugin 'alexwforsythe/tmux-which-key'
set -g @plugin 'dracula/tmux'

# default is 1, it can accept any number and 0 disables padding.
set -g @dracula-plugins "battery cpu-usage ram-usage"
set -g @dracula-show-left-icon "#S"
set -g @dracula-left-icon-padding 1
set -g @dracula-battery-label "ðŸ”‹"

# Catppuccin Mocha palette
set -g @dracula-colors "
white='#cdd6f4'
gray='#45475a'
dark_gray='#1e1e2e'
light_purple='#b4befe'
dark_purple='#313244'
cyan='#89dceb'
green='#a6e3a1'
orange='#f5b287'
red='#f38ba8'
pink='#f5c2e7'
yellow='#f9e2af'
"

set -g status-bg '#1e1e2e'

# Apply colors to widgets
set -g @dracula-show-left-icon-colors "dark_gray dark_purple"
set -g @dracula-battery-colors "dark_gray green"
set -g @dracula-cpu-usage-colors "dark_gray light_purple"
set -g @dracula-ram-usage-colors "dark_gray pink"
set -g @dracula-cwd-colors "dark_gray white"
set -g @dracula-time-colors "dark_gray white"

bind v split-window -h

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.config/tmux/plugins/tpm/tpm'

# Override dracula theme window status formatting with consistent padding
set-window-option -g window-status-current-format "#[fg=#cdd6f4,bg=#313244] #I #W "
set-window-option -g window-status-format "#[fg=#cdd6f4,bg=#1e1e2e] #I #W "
